/* Font import movido para root.tsx com otimizações de performance */

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	--brand: #00C4CC;
	--bg: #ffffff;
	--page-bg: #fdfdfd;
	--surface: #f8fafc;
	--muted: #64748b;
	--accent: #00C4CC;
	--accent-600: #008f93;
	--radius: 12px;
	--header-height: 72px;
	--text: #0F172A;
	--font-body: 'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	--font-heading: 'Montserrat', 'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Fallback de fontes para reduzir CLS */
@font-face {
	font-family: 'Inter-fallback';
	src: local('Arial');
	ascent-override: 90%;
	descent-override: 22%;
	line-gap-override: 0%;
	size-adjust: 107%;
}

@font-face {
	font-family: 'Montserrat-fallback';
	src: local('Arial');
	ascent-override: 87%;
	descent-override: 20%;
	line-gap-override: 0%;
	size-adjust: 110%;
}

html, body, #root, #app { height: 100%; }

/* Smooth scrolling for anchor/hash navigation */
html { 
	scroll-behavior: smooth;
}

/* Otimizações mobile-first */
@media (prefers-reduced-motion: reduce) {
	html { scroll-behavior: auto; }
	* {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

body {
	font-family: var(--font-body);
	background: var(--page-bg);
	color: var(--text);
	/* Otimização de renderização de texto */
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	/* Mobile optimizations */
	-webkit-tap-highlight-color: rgba(0, 196, 204, 0.2);
	touch-action: manipulation;
	/* Prevenir zoom em inputs no iOS */
	-webkit-text-size-adjust: 100%;
}

/* Prevenir CLS em imagens */
img {
	max-width: 100%;
	height: auto;
	display: block;
}

/* Reservar espaço para imagens hero - previne CLS */
.hero-img {
	aspect-ratio: 2/1;
	width: 100%;
	max-width: 512px;
	height: auto;
	margin: 0 auto;
}

/* Otimizações específicas para mobile - melhora Speed Index */
@media (max-width: 768px) {
	/* Simplificar efeitos visuais em mobile */
	.is-mobile .drop-shadow-2xl {
		filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.15));
	}
	
	/* Reduzir complexidade de gradientes em mobile */
	.is-mobile .bg-gradient-to-br,
	.is-mobile .bg-gradient-to-r {
		background: var(--page-bg);
	}
	
	/* Desabilitar animações complexas em mobile para renderização mais rápida */
	.is-mobile .slow-connection:hidden {
		display: none !important;
	}
	
	/* Simplificar sombras e efeitos em mobile */
	.is-mobile .shadow-2xl,
	.is-mobile .shadow-xl {
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	}
	
	.is-mobile .shadow-lg {
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	}
	
	.is-mobile .shadow-md {
		box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
	}
	
	/* Remover backdrop-blur em mobile para melhor performance */
	.is-mobile .backdrop-blur-md,
	.is-mobile .backdrop-blur-sm,
	.is-mobile .backdrop-blur-lg {
		backdrop-filter: none !important;
		-webkit-backdrop-filter: none !important;
	}
	
	/* Simplificar transições em mobile */
	.is-mobile * {
		transition-duration: 150ms !important;
	}
}

h1, h2, h3, h4, .section-heading {
	font-family: var(--font-heading);
}

.lead {
	font-family: var(--font-body);
}

.container { 
	max-width: 72rem; 
	margin-left: auto; 
	margin-right: auto; 
	padding-left: 1.5rem; 
	padding-right: 1.5rem; 
}

/* Section tokens & utilities */
.section {
	padding-top: 3rem;
	padding-bottom: 3rem;
	background: transparent;
	/* Ensure anchor links land below the sticky header */
	scroll-margin-top: calc(var(--header-height) + 0.75rem);
	/* Otimização de renderização - content-visibility para melhor performance */
	content-visibility: auto;
	contain-intrinsic-size: auto 500px;
}

/* Create an invisible offset target before each section so anchors and hash links
   are not covered by the sticky header while preserving visual spacing */
.section::before {
	content: "";
	display: block;
	height: var(--header-height);
	margin-top: calc(-1 * var(--header-height));
	visibility: hidden;
}

.section + .section { border-top: 1px solid rgba(15,23,42,0.04); }

.section-heading {
	color: var(--accent);
	font-weight: 700;
	font-size: 1.5rem;
	margin-bottom: 0.75rem;
}

.section-subtitle {
	color: var(--muted);
	margin-bottom: 1rem;
}

.section-content {
	color: var(--text);
	line-height: 1.6;
}

.lead { font-size: 1.125rem; color: var(--text); margin-bottom: 1rem; }

.card {
	background: var(--bg);
	border-radius: var(--radius);
	box-shadow: 0 6px 20px rgba(2,6,23,0.06);
	padding: 1rem;
}

/* Touch-friendly buttons para mobile */
a, button {
	touch-action: manipulation;
	-webkit-tap-highlight-color: rgba(0, 196, 204, 0.2);
}

/* Tamanho mínimo touch-friendly (44x44px) */
@media (max-width: 768px) {
	a, button, .btn-primary, .btn-secondary {
		min-height: 44px;
		min-width: 44px;
	}
}

.btn-primary {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	touch-action: manipulation;
	background: linear-gradient(135deg, var(--accent) 0%, var(--accent-600) 100%);
	color: white;
	padding: 1rem 2rem;
	border-radius: 12px;
	font-weight: 900;
	font-size: 1.125rem;
	font-family: var(--font-heading);
	letter-spacing: 0.02em;
	text-decoration: none;
	box-shadow: 0 8px 30px rgba(0, 196, 204, 0.25);
	transition: all 0.3s ease;
	position: relative;
	overflow: hidden;
	/* Otimização de performance para animações */
	will-change: transform;
	transform: translateZ(0);
}

.btn-primary:hover {
	transform: scale(1.05) translateZ(0);
	box-shadow: 0 10px 40px rgba(0, 196, 204, 0.35);
}

.btn-primary::before {
	content: '';
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
	transition: left 0.5s;
}

.btn-primary:hover::before {
	left: 100%;
}

.btn-primary-cta {
	display: inline-flex;
	background: linear-gradient(135deg, var(--accent) 0%, var(--accent-600) 100%);
	color: white;
	padding: 1.25rem 2.5rem;
	border-radius: 16px;
	font-weight: 900;
	font-family: var(--font-heading);
	letter-spacing: 0.02em;
	text-decoration: none;
	box-shadow: 0 10px 40px rgba(0, 196, 204, 0.3);
	position: relative;
	overflow: hidden;
}

.btn-primary-cta::before {
	content: '';
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
	transition: left 0.5s;
}

.btn-primary-cta:hover::before {
	left: 100%;
}

.badge {
	display: inline-block;
	background: rgba(0,196,204,0.12);
	color: var(--accent);
	padding: 0.25rem 0.5rem;
	border-radius: 999px;
	font-weight: 600;
	font-family: var(--font-heading);
	font-size: 0.875rem;
}

.badge-red {
	display: inline-block;
	background: rgba(239, 68, 68, 0.12);
	color: #ef4444;
	padding: 0.25rem 0.5rem;
	border-radius: 999px;
	font-weight: 600;
	font-family: var(--font-heading);
	font-size: 0.875rem;
}

/* Ensure fixed header has a defined height matching the body spacer */
/* header uses sticky positioning now; no fixed-height enforcement required */

/* Animações para o carrossel de depoimentos */
@keyframes fade-slide {
	from {
		opacity: 0;
		transform: translateX(-20px) scale(0.9);
	}
	to {
		opacity: 1;
		transform: translateX(0) scale(1);
	}
}

@keyframes scale-in {
	from {
		opacity: 0;
		transform: scale(0.9);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes fade-in {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes pulse-soft {
	0%, 100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.02);
	}
}

.animate-fade-slide {
	animation: fade-slide 0.7s ease-out;
}

.animate-scale-in {
	animation: scale-in 0.7s ease-out;
}

.animate-fade-in {
	opacity: 0;
	transform: translateY(20px);
}

.animate-fade-in.visible {
	animation: fade-in 0.8s ease-out forwards;
}

.animate-fade-in-delay {
	opacity: 0;
	transform: translateY(20px);
}

.animate-fade-in-delay.visible {
	animation: fade-in 1s ease-out 0.3s forwards;
}

.animate-pulse-soft {
	animation: pulse-soft 3s ease-in-out infinite;
}

/* Estilos customizados para o Swiper de depoimentos */
.testimonials-swiper {
	padding: 1rem 0 3rem;
	overflow: visible;
}

.testimonials-swiper .swiper-slide {
	width: 90%;
	max-width: 600px;
	transition: all 0.5s ease;
}

.testimonials-swiper .swiper-slide:not(.swiper-slide-active) {
	opacity: 0.4;
	transform: scale(0.9);
}

.testimonials-swiper .swiper-slide-active {
	opacity: 1;
	transform: scale(1);
}

.testimonials-swiper .swiper-pagination {
	position: relative;
	margin-top: 1.5rem;
}

.testimonials-swiper .swiper-pagination-bullet {
	width: 8px;
	height: 8px;
	background: var(--muted);
	opacity: 1;
	transition: all 0.3s ease;
}

.testimonials-swiper .swiper-pagination-bullet-active {
	background: var(--accent);
	width: 32px;
	border-radius: 4px;
}

/* Responsividade para mobile */
@media (max-width: 639px) {
	.testimonials-swiper .swiper-slide {
		width: 85%;
	}
	
	.testimonials-swiper .swiper-slide:not(.swiper-slide-active) {
		opacity: 0.2;
		transform: scale(0.85);
	}
}

/* Tablets */
@media (min-width: 640px) and (max-width: 1023px) {
	.testimonials-swiper {
		padding: 1.5rem 0 3.5rem;
	}
	
	.testimonials-swiper .swiper-slide {
		width: 500px;
	}
}

/* Desktop */
@media (min-width: 1024px) {
	.testimonials-swiper {
		padding: 2rem 0 4rem;
	}
	
	.testimonials-swiper .swiper-slide {
		width: 600px;
	}
}

@media (min-width: 640px) {
	.section { padding-top: 4rem; padding-bottom: 4rem; }
	.section-heading { font-size: 1.75rem; }
	.lead { font-size: 1.125rem; }
}

/* ========================================
   MOBILE PERFORMANCE OPTIMIZATIONS
   ======================================== */

/* Reduzir animações em mobile para melhor performance */
@media (max-width: 768px) {
	/* Simplificar animações */
	.animate-fade-in,
	.animate-fade-in-delay {
		animation-duration: 0.3s;
	}
	
	/* Otimizar transições */
	* {
		transition-duration: 0.2s !important;
	}
	
	/* Desabilitar hover effects (não existem em touch) */
	.hover\:scale-105:hover,
	.group:hover {
		transform: none;
	}
	
	/* Reduzir padding em sections para mobile */
	.section {
		padding-top: 2rem;
		padding-bottom: 2rem;
	}
}

/* iOS Safari fixes */
@supports (-webkit-touch-callout: none) {
	/* Fix para height 100% no iOS */
	body {
		min-height: -webkit-fill-available;
	}
	
	/* Prevenir bounce scrolling */
	body {
		overscroll-behavior-y: none;
	}
}

/* Performance: will-change para elementos animados */
.swiper-slide,
.floating-nav,
[class*="transition"],
[class*="animate"] {
	will-change: transform, opacity;
}

/* Lazy loading: blur placeholder para imagens */
img[loading="lazy"] {
	background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
	background-size: 200% 100%;
}

/* Mobile-first: otimizar scroll em listas/grids horizontais */
.horizontal-scroll,
.swiper-wrapper {
	-webkit-overflow-scrolling: touch;
	scroll-snap-type: x mandatory;
}

.horizontal-scroll > *,
.swiper-slide {
	scroll-snap-align: start;
}

/* ========================================
   ADAPTIVE LOADING - CONEXÃO LENTA
   ======================================== */

/* Quando detectado Save Data ou conexão lenta */
.slow-connection img[loading="lazy"] {
	/* Força lazy loading mais agressivo */
	content-visibility: auto;
}

.slow-connection .animate-fade-in,
.slow-connection .animate-fade-in-delay,
.slow-connection [class*="transition"] {
	/* Desabilita animações */
	animation: none !important;
	transition: none !important;
}

.slow-connection .blur,
.slow-connection .shadow-2xl {
	/* Remove efeitos pesados */
	filter: none !important;
	box-shadow: none !important;
}

/* ========================================
   MOBILE-SPECIFIC OPTIMIZATIONS
   ======================================== */

/* Otimizar toque em mobile */
.is-mobile a,
.is-mobile button {
	/* Aumentar área de toque */
	padding: 0.5rem;
	margin: -0.5rem;
}

/* Prevenir seleção acidental de texto em mobile */
.is-mobile button,
.is-mobile .swiper-slide {
	-webkit-user-select: none;
	user-select: none;
}

/* Otimizar scroll em mobile */
.is-mobile {
	/* Hardware acceleration */
	transform: translateZ(0);
	-webkit-transform: translateZ(0);
}

